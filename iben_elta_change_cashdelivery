
// child theme-> functions.php
// ΠΡΟΣΘΗΚΗ +3 ΕΥΡΩ ΣΤΟ ΠΟΣΟ ΤΟΥ VOUCHER ΕΑΝ ΕΙΝΑΙ ΠΛΗΡΩΜΗ ΜΕ ΑΝΤΙΚΑΤΑΒΟΛΗ
function iben_elta_change_cashdelivery($cash, $order_id){

	$order = wc_get_order($order_id);

	if ( !is_a( $order, 'WC_Order' )  ){
		return 0;
	}

	$payment = $order->get_payment_method();

	$payments = array('cod', 'id_codfee');
	if (in_array($payment, $payments, true)) {
		return $cash + 3;
	}else{
		return 0;
	}
}

add_filter('iben_elta_filter_cashdelivery_order_metabox', 'iben_elta_change_cashdelivery', 10, 2);
